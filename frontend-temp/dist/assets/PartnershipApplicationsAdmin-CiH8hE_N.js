import{j as e}from"./index-596hYXym.js";import{R as t}from"./router-BRn4_cjy.js";import{ac as a,R as s,ap as i,s as r,X as l}from"./ui-TmEHN81D.js";import"./vendor-DtuzQOD1.js";function n(){const[n,c]=t.useState(!1),[o,d]=t.useState("all"),[p,h]=t.useState(""),x=[{id:"1",churchName:"Grace Community Church",contactName:"Pastor John Smith",email:"john@gracechurch.com",phone:"+1-555-0123",city:"Springfield",state:"IL",country:"USA",website:"https://gracechurch.com",status:"pending",submittedAt:(new Date).toISOString()},{id:"2",churchName:"Faith Baptist Church",contactName:"Pastor Sarah Johnson",email:"sarah@faithbaptist.com",phone:"+1-555-0456",city:"Riverside",state:"CA",country:"USA",website:"https://faithbaptist.com",status:"approved",submittedAt:new Date(Date.now()-864e5).toISOString()}],m=(null==x?void 0:x.filter(e=>{var t,a,s,i;if(!e)return!1;if(p){const r=p.toLowerCase();if(!((null==(t=e.name)?void 0:t.toLowerCase().includes(r))||(null==(a=e.contactPerson)?void 0:a.toLowerCase().includes(r))||(null==(s=e.email)?void 0:s.toLowerCase().includes(r))||(null==(i=e.city)?void 0:i.toLowerCase().includes(r))))return!1}switch(o){case"pending":return"pending"===e.status;case"approved":return"approved"===e.status;case"rejected":return"rejected"===e.status;default:return!0}}))||[],u=async e=>{try{await(async()=>{alert("Application approved successfully!")})(),alert("Application approved successfully!")}catch(t){console.error("Failed to approve application:",t),alert("Failed to approve application. Please try again.")}},g=async e=>{try{await(async()=>{alert("Application rejected.")})(),alert("Application rejected.")}catch(t){console.error("Failed to reject application:",t),alert("Failed to reject application. Please try again.")}};return e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(a,{className:"h-5 w-5 text-white"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white heading-font",children:"Partnership Applications"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Review and manage church partnership applications."})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Search by church name, contact, email, or city...",value:p,onChange:e=>h(e.target.value),className:"w-full bg-gray-700 border border-gray-600 text-white px-4 py-2 text-sm"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:o,onChange:e=>d(e.target.value),className:"bg-gray-700 border border-gray-600 text-white px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:"All Applications"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsxs("button",{onClick:async()=>{c(!0),setTimeout(()=>c(!1),1e3)},disabled:n,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white px-3 py-2 flex items-center gap-2 disabled:opacity-50",children:[e.jsx(s,{className:"w-4 h-4 "+(n?"animate-spin":"")}),"Refresh"]})]})]}),x&&e.jsxs("div",{className:"text-sm text-gray-400 mb-4",children:["Showing ",m.length," of ",x.length," partnership applications","all"!==o&&` (filtered by ${o})`,p&&` (search: "${p}")`]}),void 0===x?e.jsx("p",{className:"text-gray-400",children:"Loading partnership applications..."}):0===m.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(a,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:p||"all"!==o?"No applications match your filters.":"No partnership applications found."})]}):e.jsx("div",{className:"space-y-4",children:m.map(t=>e.jsx("div",{className:"bg-gray-700/50 border border-gray-600 p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(i,{className:"h-5 w-5 text-blue-400"}),e.jsx("h3",{className:"text-white font-semibold",children:t.name}),e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded "+("pending"===t.status?"bg-yellow-500/20 text-yellow-400":"approved"===t.status?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:t.status})]}),e.jsx("p",{className:"text-gray-300 mb-2",children:t.description}),e.jsxs("div",{className:"text-gray-400 text-sm space-y-1",children:[e.jsxs("p",{children:["Contact: ",t.contactPerson]}),e.jsxs("p",{children:["Email: ",t.email]}),t.phone&&e.jsxs("p",{children:["Phone: ",t.phone]}),t.website&&e.jsxs("p",{children:["Website: ",t.website]}),t.denomination&&e.jsxs("p",{children:["Denomination: ",t.denomination]})]}),e.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["Applied: ",new Date(t.applicationDate).toLocaleDateString()]})]}),"pending"===t.status&&e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx("button",{onClick:()=>u(t._id),className:"bg-green-500 hover:bg-green-600 text-white p-2 rounded",title:"Approve",children:e.jsx(r,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>g(t._id),className:"bg-red-500 hover:bg-red-600 text-white p-2 rounded",title:"Reject",children:e.jsx(l,{className:"h-4 w-4"})})]})]})},t._id))})]})}export{n as default};
