import{j as e}from"./index-BbHywOFY.js";import{r as t}from"./router-BRn4_cjy.js";import{f as s,V as a,q as l,ad as r,aD as i,aA as n,aE as o,a9 as c,aG as d,aH as x}from"./ui-TmEHN81D.js";import"./vendor-DtuzQOD1.js";const m={title:"",description:"",eventType:"service",startDate:"",endDate:"",locationName:"",virtualLink:"",isPublished:!1,videoUrl:"",thumbnailUrl:""};function h(){const[h,u]=t.useState(!1),[b,g]=t.useState(m),[p,v]=t.useState(""),j={events:[{id:1,title:"Sunday Worship Service",description:"Weekly worship service with powerful preaching and supernatural manifestations.",eventType:"service",startDate:(new Date).toISOString(),endDate:(new Date).toISOString(),locationName:"Online",virtualLink:"https://youtube.com/@commandchurch",isPublished:!0},{id:2,title:"Supernatural Prayer Conference",description:"3-day intensive prayer and fasting event.",eventType:"conference",startDate:new Date(Date.now()+6048e5).toISOString(),endDate:new Date(Date.now()+7776e5).toISOString(),locationName:"Online",virtualLink:"https://youtube.com/@commandchurch",isPublished:!0}]},y=async e=>{confirm("Are you sure you want to delete this event?")&&alert("Event deleted successfully!")},[f,N]=t.useState(!1),w=e=>{window.confirm("Are you sure you want to delete this event?")&&y.mutate({eventId:e})};return e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(s,{className:"h-5 w-5 text-white"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white heading-font",children:"Manage Events"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Create, edit, and manage all church events."})]})]}),e.jsxs("button",{onClick:()=>{g(m),v(""),u(!0)},className:"bg-white text-black hover:bg-gray-200 px-4 py-2 font-semibold uppercase tracking-wide inline-flex items-center text-sm",children:[e.jsx(a,{className:"mr-2 h-4 w-4"}),"Create Event"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"text-left text-gray-400 font-semibold py-3 px-3",children:"Title"}),e.jsx("th",{className:"text-left text-gray-400 font-semibold py-3 px-3",children:"Date"}),e.jsx("th",{className:"text-left text-gray-400 font-semibold py-3 px-3",children:"Status"}),e.jsx("th",{className:"text-left text-gray-400 font-semibold py-3 px-3",children:"Actions"})]})}),e.jsx("tbody",{children:null==j?void 0:j.events.map(t=>e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("td",{className:"py-3 px-3 text-white",children:t.title}),e.jsx("td",{className:"py-3 px-3 text-gray-300",children:new Date(t.startDate).toLocaleString()}),e.jsx("td",{className:"py-3 px-3",children:t.isPublished?e.jsxs("span",{className:"inline-flex items-center gap-1 text-green-400 text-sm",children:[e.jsx(l,{className:"h-4 w-4"})," Published"]}):e.jsxs("span",{className:"inline-flex items-center gap-1 text-yellow-400 text-sm",children:[e.jsx(r,{className:"h-4 w-4"})," Draft"]})}),e.jsx("td",{className:"py-3 px-3",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>(e=>{g({...e,startDate:e.startDate?new Date(e.startDate).toISOString().slice(0,16):"",endDate:e.endDate?new Date(e.endDate).toISOString().slice(0,16):"",videoUrl:"",thumbnailUrl:""}),v(""),u(!0)})(t),className:"text-blue-400 hover:text-blue-300",children:e.jsx(i,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>w(t.id),className:"text-red-400 hover:text-red-300",children:e.jsx(n,{className:"h-4 w-4"})})]})})]},t.id))})]})}),h&&e.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gray-800 border border-gray-700 p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-6 heading-font",children:b.id?"Edit Event":"Create Event"}),e.jsxs("form",{onSubmit:async e=>{var t;if(e.preventDefault(),!b.videoUrl||(!(t=b.videoUrl)||/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/.test(t)||/(?:vimeo\.com\/)([0-9]+)/.test(t)))try{N(!0);b.title,b.description,b.eventType,b.startDate,b.endDate,b.locationName,b.virtualLink,b.isPublished;b.id?(await(async()=>{alert("Event updated successfully!")})(b.id),u(!1),g(m)):(await(async()=>{alert("Event created successfully!"),u(!1)})(),u(!1),g(m))}catch(s){console.error("Failed to save event:",s),alert("Failed to save event. Please try again.")}finally{N(!1)}else alert("Please enter a valid YouTube or Vimeo URL")},className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[e.jsx(o,{className:"h-5 w-5"}),"Basic Information"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-semibold mb-1 text-sm",children:"Title"}),e.jsx("input",{type:"text",value:b.title,onChange:e=>g({...b,title:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white px-3 py-2 text-sm rounded focus:border-orange-500 focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-semibold mb-1 text-sm",children:"Description"}),e.jsx("textarea",{rows:4,value:b.description,onChange:e=>g({...b,description:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white px-3 py-2 text-sm rounded focus:border-orange-500 focus:outline-none",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-semibold mb-1 text-sm",children:"Event Type"}),e.jsxs("select",{value:b.eventType,onChange:e=>g({...b,eventType:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white px-3 py-2 text-sm rounded focus:border-orange-500 focus:outline-none",children:[e.jsx("option",{value:"service",children:"Service"}),e.jsx("option",{value:"conference",children:"Conference"}),e.jsx("option",{value:"gathering",children:"Gathering"}),e.jsx("option",{value:"training",children:"Training"}),e.jsx("option",{value:"workshop",children:"Workshop"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-semibold mb-1 text-sm",children:"Location Name"}),e.jsx("input",{type:"text",value:b.locationName||"",onChange:e=>g({...b,locationName:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white px-3 py-2 text-sm rounded focus:border-orange-500 focus:outline-none",placeholder:"Physical location or 'Online'"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[e.jsx(s,{className:"h-5 w-5"}),"Date & Time"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-semibold mb-1 text-sm",children:"Start Date & Time"}),e.jsx("input",{type:"datetime-local",value:b.startDate,onChange:e=>g({...b,startDate:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white px-3 py-2 text-sm rounded focus:border-orange-500 focus:outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-semibold mb-1 text-sm",children:"End Date & Time (optional)"}),e.jsx("input",{type:"datetime-local",value:b.endDate||"",onChange:e=>g({...b,endDate:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white px-3 py-2 text-sm rounded focus:border-orange-500 focus:outline-none"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[e.jsx(c,{className:"h-5 w-5"}),"Media Content"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-semibold mb-1 text-sm",children:"Video URL (YouTube or Vimeo)"}),e.jsx("input",{type:"url",value:b.videoUrl||"",onChange:e=>g({...b,videoUrl:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white px-3 py-2 text-sm rounded focus:border-orange-500 focus:outline-none",placeholder:"https://youtube.com/watch?v=... or https://vimeo.com/..."}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Paste the full YouTube or Vimeo URL. This will be embedded in the event page."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-semibold mb-1 text-sm",children:"Event Thumbnail Image"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"bg-gray-700 hover:bg-gray-600 border border-gray-600 text-white px-4 py-2 text-sm rounded cursor-pointer inline-flex items-center gap-2 transition-colors",children:[e.jsx(d,{className:"h-4 w-4"}),"Choose Image",e.jsx("input",{type:"file",accept:"image/*",onChange:e=>{var t;const s=null==(t=e.target.files)?void 0:t[0];if(s){if(!s.type.startsWith("image/"))return void alert("Please select an image file");if(s.size>5242880)return void alert("File size must be less than 5MB");g({...b,thumbnailFile:s});const e=new FileReader;e.onload=e=>{var t;v(null==(t=e.target)?void 0:t.result)},e.readAsDataURL(s)}},className:"hidden"})]}),b.thumbnailFile&&e.jsxs("span",{className:"text-green-400 text-sm flex items-center gap-1",children:[e.jsx(l,{className:"h-4 w-4"}),b.thumbnailFile.name]})]}),e.jsx("div",{className:"bg-blue-500/20 border border-blue-500/30 p-4 rounded",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(x,{className:"h-5 w-5 text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-blue-200 font-semibold text-sm mb-2",children:"Recommended Thumbnail Specifications:"}),e.jsxs("ul",{className:"text-blue-100 text-xs space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Size:"})," 1920x1080 pixels (16:9 aspect ratio)"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Format:"})," JPG or PNG"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"File Size:"})," Under 5MB"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Content:"})," High contrast, readable text, compelling imagery"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Safe Area:"})," Keep important content in center 1280x720 area"]})]})]})]})}),p&&e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-semibold text-sm mb-2",children:"Preview:"}),e.jsx("div",{className:"border border-gray-600 rounded overflow-hidden max-w-md",children:e.jsx("img",{src:p,alt:"Thumbnail preview",className:"w-full h-auto"})})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-semibold mb-1 text-sm",children:"Virtual Link (Zoom, Teams, etc.)"}),e.jsx("input",{type:"url",value:b.virtualLink||"",onChange:e=>g({...b,virtualLink:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 text-white px-3 py-2 text-sm rounded focus:border-orange-500 focus:outline-none",placeholder:"https://zoom.us/j/... or meeting link"}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"For live events, provide the meeting/streaming link"})]}),e.jsx("div",{className:"flex items-center space-x-6 pt-2",children:e.jsxs("label",{className:"flex items-center text-white cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:b.isPublished,onChange:e=>g({...b,isPublished:e.target.checked}),className:"mr-2 w-4 h-4 text-orange-500 bg-gray-700 border-gray-600 rounded focus:ring-orange-500"}),"Published (visible to public)"]})})]}),e.jsxs("div",{className:"flex space-x-3 pt-6 border-t border-gray-600",children:[e.jsx("button",{type:"submit",className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 font-semibold uppercase tracking-wide text-sm rounded transition-colors",disabled:f,children:f?"Saving...":"Save Event"}),e.jsx("button",{type:"button",onClick:()=>u(!1),className:"border border-gray-600 text-white hover:bg-gray-700 px-6 py-2 font-semibold uppercase tracking-wide text-sm rounded transition-colors",children:"Cancel"})]})]})]})})]})}export{h as default};
