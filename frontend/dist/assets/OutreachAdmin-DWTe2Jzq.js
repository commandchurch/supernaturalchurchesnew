import{j as e}from"./index-BbHywOFY.js";import{R as s}from"./router-BRn4_cjy.js";import{aB as t,R as l,o as a,a4 as r,k as d,aC as i}from"./ui-TmEHN81D.js";import"./vendor-DtuzQOD1.js";const n=s.memo(({node:s,formatCurrency:t})=>e.jsxs("li",{children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700/40 border border-gray-600",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-white font-semibold",children:[s.name," (",s.id,")"]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("span",{className:"px-2 py-0.5 text-xs border "+(1===s.level?"bg-blue-500/20 text-blue-400 border-blue-500/30":2===s.level?"bg-green-500/20 text-green-400 border-green-500/30":3===s.level?"bg-purple-500/20 text-purple-400 border-purple-500/30":"bg-orange-500/20 text-orange-400 border-orange-500/30"),children:["Level ",s.level]}),e.jsx("span",{className:"px-2 py-0.5 text-xs "+("active"===s.status?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"),children:s.status})]})]}),e.jsx("div",{className:"text-white font-bold",children:t(s.earnings)})]}),s.children&&s.children.length>0&&e.jsx("div",{className:"ml-4 md:ml-6 mt-2 border-l border-gray-700 pl-3 md:pl-4",children:e.jsx(x,{nodes:s.children,formatCurrency:t})})]}));function x({nodes:s,formatCurrency:t}){return e.jsx("ul",{className:"space-y-3",children:s.map(s=>e.jsx(n,{node:s,formatCurrency:t},s.id))})}function c({profiles:s,leaderboard:n,withdrawals:c,downline:o,selectedUserId:m,setSelectedUserId:h,seedMutation:p,approveWithdrawalMutation:g,formatCurrency:b}){return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 bg-gray-800/50 border border-gray-700 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(t,{className:"h-5 w-5 text-white"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg md:text-xl font-bold text-white heading-font",children:"Soul Outreach Network"}),e.jsx("p",{className:"text-gray-400 text-xs md:text-sm",children:"Manage leaders, view downlines, payouts, and seed demo data."})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{onClick:()=>p.mutate(),className:"bg-white text-black hover:bg-gray-200 px-3 md:px-4 py-2 font-semibold uppercase tracking-wide inline-flex items-center text-xs md:text-sm",disabled:p.isPending,children:[e.jsx(l,{className:"mr-2 h-4 w-4 "+(p.isPending?"animate-spin":"")}),p.isPending?"Seeding...":"Seed Demo Data"]})})]}),e.jsxs("section",{children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 heading-font inline-flex items-center gap-2",children:[e.jsx(a,{className:"h-5 w-5 text-yellow-300"})," Top Earners"]}),e.jsx("div",{className:"overflow-x-auto bg-gray-800/50 border border-gray-700",children:e.jsxs("table",{className:"w-full text-xs md:text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"text-left text-gray-400 font-semibold py-3 px-3",children:"User"}),e.jsx("th",{className:"text-left text-gray-400 font-semibold py-3 px-3",children:"Rank"}),e.jsx("th",{className:"text-left text-gray-400 font-semibold py-3 px-3",children:"Level"}),e.jsx("th",{className:"text-left text-gray-400 font-semibold py-3 px-3",children:"Weekly"}),e.jsx("th",{className:"text-left text-gray-400 font-semibold py-3 px-3",children:"Total"})]})}),e.jsx("tbody",{children:null==n?void 0:n.leaderboard.map(s=>e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("td",{className:"py-3 px-3 text-white",children:s.userId}),e.jsx("td",{className:"py-3 px-3 text-white",children:s.rank}),e.jsx("td",{className:"py-3 px-3 text-white",children:s.level}),e.jsx("td",{className:"py-3 px-3 text-white",children:b(s.weeklyEarnings)}),e.jsx("td",{className:"py-3 px-3 text-white",children:b(s.totalEarnings)})]},s.userId))})]})})]}),e.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4 heading-font",children:"Leaders"}),e.jsx("div",{className:"bg-gray-800/50 border border-gray-700 divide-y divide-gray-700",children:null==s?void 0:s.profiles.map(s=>e.jsx("button",{onClick:()=>h(s.userId),className:"w-full text-left px-4 py-3 hover:bg-gray-700/50 "+(m===s.userId?"bg-white/5":""),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-semibold",children:s.userId}),e.jsxs("div",{className:"text-gray-400 text-xs",children:["Rank: ",s.rank," â€¢ Direct: ",s.directReferrals]})]}),e.jsx("div",{className:"text-white font-bold",children:b(s.weeklyEarnings)})]})},s.userId))})]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4 heading-font",children:"Downline"}),e.jsx("div",{className:"bg-gray-800/50 border border-gray-700 p-4",children:m?e.jsx("div",{children:(null==o?void 0:o.downline)&&o.downline.length>0?e.jsx(x,{nodes:o.downline,formatCurrency:b}):e.jsxs("p",{className:"text-gray-400",children:["No downline found for ",m,"."]})}):e.jsx("p",{className:"text-gray-400",children:"Select a leader to view their downline."})})]})]}),e.jsxs("section",{children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 heading-font inline-flex items-center gap-2",children:[e.jsx(r,{className:"h-5 w-5 text-teal-300"})," Withdrawals"]}),e.jsx("div",{className:"overflow-x-auto bg-gray-800/50 border border-gray-700",children:e.jsxs("table",{className:"w-full text-xs md:text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"text-left text-gray-400 font-semibold py-3 px-3",children:"ID"}),e.jsx("th",{className:"text-left text-gray-400 font-semibold py-3 px-3",children:"Affiliate"}),e.jsx("th",{className:"text-left text-gray-400 font-semibold py-3 px-3",children:"Wallet"}),e.jsx("th",{className:"text-left text-gray-400 font-semibold py-3 px-3",children:"Amount"}),e.jsx("th",{className:"text-left text-gray-400 font-semibold py-3 px-3",children:"Status"}),e.jsx("th",{className:"text-left text-gray-400 font-semibold py-3 px-3",children:"Actions"})]})}),e.jsx("tbody",{children:null==c?void 0:c.withdrawals.map(s=>e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("td",{className:"py-3 px-3 text-white",children:s.id}),e.jsx("td",{className:"py-3 px-3 text-white",children:s.affiliateId}),e.jsx("td",{className:"py-3 px-3 text-gray-300",children:s.walletAddress}),e.jsx("td",{className:"py-3 px-3 text-white",children:b(s.amount)}),e.jsx("td",{className:"py-3 px-3",children:e.jsx("span",{className:"px-2 py-1 text-xs font-semibold "+("completed"===s.status?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"),children:s.status.toUpperCase()})}),e.jsx("td",{className:"py-3 px-3",children:"completed"!==s.status?e.jsxs("button",{onClick:()=>g.mutate(s.id),className:"text-green-400 hover:text-green-300 inline-flex items-center gap-1",children:[e.jsx(d,{className:"h-4 w-4"})," Approve"]}):e.jsxs("span",{className:"text-gray-500 inline-flex items-center gap-1",children:[e.jsx(i,{className:"h-4 w-4"})," ",s.processedAt?new Date(s.processedAt).toLocaleDateString():"Processed"]})})]},s.id))})]})})]})]})}n.displayName="DownlineItem";export{c as default};
